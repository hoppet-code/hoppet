name: Test Python Wheels

on:
  push:
    branches: [ 2025-09-python-wheels-new ]

jobs:
  simple_test:
    name: Simple Python Test
    runs-on: ubuntu-latest
    container:
      image: fedora:latest
    
    steps:
    - name: Checkout
      uses: actions/checkout@v4
    
    - name: Install dependencies
      run: |
        yum -y install gcc gcc-c++ gcc-gfortran cmake swig
        yum -y install lhapdf lhapdf-devel
        yum -y install python3-devel python3-pip
    
    - name: Build and test Python bindings
      run: |
        # Build Python wheel
        python3 -m pip install build scikit-build-core
        python3 -m build
        
        # Test wheel installation
        python3 -m pip install dist/*.whl
        python3 -c "import hoppet; print('Success!')"